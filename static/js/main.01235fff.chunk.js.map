{"version":3,"sources":["actions/users.js","components/UsersList.js","components/NewUserForm.js","components/App.js","reducers/users.js","reducers/index.js","api/users.js","sagas/users.js","sagas/index.js","index.js"],"names":["Types","GET_USERS_REQUEST","GET_USERS_SUCCESS","CREATE_USER_REQUEST","DELETE_USER_REQUEST","USERS_ERROR","getUsersSuccess","_ref","items","type","payload","usersError","_ref3","error","UsersList","users","onDeleteUser","react_default","a","createElement","reactstrap_es","sort","b","firstName","lastName","map","user","key","id","style","display","flexGrow","margin","outline","color","onClick","initial_state","NewUserForm","state","handleState","event","_event$target","target","name","value","_this","setState","Object","defineProperty","handleSubmit","preventDefault","_this$state","onSubmit","props","objectSpread","_this$state2","this","required","placeholder","onChange","block","Component","App","createUserRequest","handleDeleteUserClick","userId","deleteUserRequest","handleCloseAlert","getUsersRequest","padding","maxWidth","isOpen","toggle","components_NewUserForm","components_UsersList","connect","_ref2","INITIAL_STATE","combineReducers","arguments","length","undefined","action","getUsers","axios","get","params","limit","createUser","post","deleteUser","delete","concat","watchGetUsersRequest","watchCreateUsersRequest","watchDeleteUserRequest","result","regenerator_default","wrap","_context","prev","next","call","api","sent","put","actions","data","t0","stop","_marked","_context2","takeEvery","_marked2","_context3","_marked3","_context4","takeLatest","_marked4","_context5","_marked5","_context6","take","_marked6","usersSagas","fork","rootSaga","all","toConsumableArray","sagas_marked","defaults","withCredentials","baseURL","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","applyMiddleware","run","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.01235fff.chunk.js","sourcesContent":["export const Types = {\n  GET_USERS_REQUEST: 'users/get_users_request',\n  GET_USERS_SUCCESS: 'users/get_users_success',\n  CREATE_USER_REQUEST: 'user/create_users_request',\n  DELETE_USER_REQUEST: 'user/delete_users_request',\n  USERS_ERROR: 'user/users_error',\n}\n\nexport const getUsersRequest = () => ({\n  type: Types.GET_USERS_REQUEST\n})\n\nexport const getUsersSuccess = ({ items }) => ({\n  type: Types.GET_USERS_SUCCESS,\n  payload: {\n    items\n  }\n})\n\nexport const createUserRequest = ({ firstName, lastName }) => ({\n  type: Types.CREATE_USER_REQUEST,\n  payload: {\n    firstName,\n    lastName\n  }\n})\n\nexport const deleteUserRequest = (userId) => ({\n  type: Types.DELETE_USER_REQUEST,\n  payload: { userId }\n})\n\nexport const usersError = ({ error }) => ({\n  type: Types.USERS_ERROR,\n  payload: {\n    error\n  }\n})\n","import React from 'react'\nimport { ListGroup, ListGroupItem, Button } from 'reactstrap';\n\nconst UsersList = ({ users, onDeleteUser }) => {\n  return (\n    <ListGroup>\n      {users.sort((a, b) => {\n        if (a.firstName > b.firstName) {\n          return 1;\n        } else if (a.firstName < b.firstName) {\n          return -1;\n        } else if (a.lastName < b.lastName) {\n          return 1;\n        } else if (a.lastName > b.lastName) {\n          return -1;\n        } else {\n          return 0;\n        }\n      }).map(user => {\n        return (\n          <ListGroupItem key={user.id}>\n            <section style={{ display: 'flex' }}>\n              <div style={{ flexGrow: 1, margin: 'auto 0' }}>\n                {user.firstName} {user.lastName}\n              </div>\n              <div>\n                <Button outline color=\"danger\" onClick={() => onDeleteUser(user.id)}>\n                  Delete\n                </Button>\n              </div>\n            </section>\n          </ListGroupItem>\n        )\n      })}\n    </ListGroup>\n  )\n}\n\nexport default UsersList\n","import React, { Component } from 'react'\nimport { Form, Label, Input, FormGroup, Button } from 'reactstrap';\n\nlet initial_state = {\n  firstName: '',\n  lastName: ''\n}\n\nclass NewUserForm extends Component {\n  state = initial_state\n\n  handleState = event => {\n    let { name, value } = event.target\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { firstName, lastName } = this.state\n    const { onSubmit } = this.props\n    onSubmit({ firstName, lastName })\n    this.setState({ ...initial_state })\n  }\n\n  render() {\n    const { firstName, lastName } = this.state\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        <FormGroup>\n          <Label>\n            First Name\n        </Label>\n          <Input\n            required\n            type=\"text\"\n            value={firstName}\n            name=\"firstName\"\n            placeholder=\"First Name\"\n            onChange={this.handleState} />\n          <Label>\n            Last Name\n        </Label>\n          <Input\n            required\n            type=\"text\"\n            value={lastName}\n            name=\"lastName\"\n            placeholder=\"Last Name\"\n            onChange={this.handleState} />\n        </FormGroup>\n        <FormGroup>\n          <Button block outline type=\"submit\" color=\"primary\">\n            Create\n          </Button>\n        </FormGroup>\n      </Form>\n    )\n  }\n}\n\nexport default NewUserForm\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  getUsersRequest,\n  createUserRequest,\n  deleteUserRequest,\n  usersError\n} from '../actions/users'\nimport UsersList from './UsersList';\nimport NewUserForm from './NewUserForm';\nimport { Alert } from 'reactstrap';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.getUsersRequest()\n  }\n\n  handleSubmit = ({ firstName, lastName }) => {\n    this.props.createUserRequest({ firstName, lastName });\n  }\n\n  handleDeleteUserClick = (userId) => {\n    this.props.deleteUserRequest(userId);\n  }\n\n  handleCloseAlert = () => {\n    this.props.usersError({\n      error: ''\n    })\n  }\n\n  render() {\n    const { users } = this.props;\n    return (\n      <div style={{ margin: '0px auto', padding: '20px', maxWidth: '600px' }}>\n        <Alert color=\"danger\" isOpen={!!this.props.users.error} toggle={this.handleCloseAlert}>\n          {this.props.users.error}\n        </Alert>\n        <NewUserForm onSubmit={this.handleSubmit} />\n        <UsersList users={users.items} onDeleteUser={this.handleDeleteUserClick} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ users }) => ({ users }),\n  { getUsersRequest, createUserRequest, deleteUserRequest, usersError })(App);\n","import { Types } from '../actions/users';\n\nconst INITIAL_STATE = {\n  items: [],\n  error: ''\n}\n\nexport default function users(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case Types.GET_USERS_SUCCESS:\n      return {\n        ...state,\n        items: action.payload.items\n      }\n    case Types.USERS_ERROR:\n      return {\n        ...state,\n        error: action.payload.error\n      }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport UsersReducer from './users';\n\nexport default combineReducers({\n  users: UsersReducer\n})\n","import axios from 'axios';\n\nexport const getUsers = () => {\n  return axios.get('/users', {\n    params: {\n      limit: 1000\n    }\n  })\n}\n\nexport const createUser = ({ firstName, lastName }) => {\n  return axios.post('/users', {\n    firstName, lastName\n  })\n}\n\nexport const deleteUser = (userId) => {\n  return axios.delete(`/users/${userId}`);\n}\n","import { takeEvery, takeLatest, take, call, fork, put } from 'redux-saga/effects';\nimport * as actions from '../actions/users'\nimport * as api from '../api/users';\n\nfunction* getUsers() { // this is a worker\n  try {\n    const result = yield call(api.getUsers);\n    yield put(actions.getUsersSuccess({\n      items: result.data.data\n    }))\n  } catch (error) {\n    yield put(actions.usersError({\n      error: ' An error occurred when trying to get the users'\n    }))\n  }\n}\n\nfunction* watchGetUsersRequest() { // this is a watcher\n  yield takeEvery(actions.Types.GET_USERS_REQUEST, getUsers);\n}\n\nfunction* createUser(action) {\n  try {\n    yield call(api.createUser, { firstName: action.payload.firstName, lastName: action.payload.lastName });\n    yield call(getUsers)\n  } catch (error) {\n    yield put(actions.usersError({\n      error: ' An error occurred when trying to create the user'\n    }))\n  }\n}\n\nfunction* watchCreateUsersRequest() {\n  yield takeLatest(actions.Types.CREATE_USER_REQUEST, createUser);\n}\n\nfunction* deleteUser({ userId }) {\n  try {\n    yield call(api.deleteUser, userId);\n    yield call(getUsers);\n  } catch (error) {\n    yield put(actions.usersError({\n      error: ' An error occurred when trying to delete the user'\n    }))\n  }\n}\n\nfunction* watchDeleteUserRequest() {\n  while (true) {\n    // take provides the action which was dispatched\n    // is a low level effects from saga (compared with takeLatest or takeEvery)\n    const action = yield take(actions.Types.DELETE_USER_REQUEST);\n    yield call(deleteUser, {\n      userId: action.payload.userId\n    })\n  }\n  // wrapping the watcher in a while loop, we avoid to get in in the function\n  // again till the sagas is resolved (we are blocking to delete other users\n  // till one user is deleted)\n}\n\nconst usersSagas = [\n  fork(watchGetUsersRequest),\n  fork(watchCreateUsersRequest),\n  fork(watchDeleteUserRequest)\n]\n\nexport default usersSagas;\n","import usersSagas from './users';\nimport { all } from 'redux-saga/effects';\n\nexport default function* rootSaga() {\n  yield all([\n    ...usersSagas,\n  ]) // this allows to fork all the saga's processes in parallel\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport reducers from './reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './sagas';\n\naxios.defaults.withCredentials = true;\naxios.defaults.baseURL = 'https://rem-rest-api.herokuapp.com/api';\n\nconst sagaMiddleware = createSagaMiddleware()\n\nconst store = createStore(reducers, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root'));\n"],"sourceRoot":""}